{"version":3,"sources":["../src/construct_realm.js"],"names":["opts","r","i","intrinsics","$GlobalObject","ObjectPrototype","name","evaluators","$GlobalEnv"],"mappings":";;;;;;kBAmBe,YAAyC;AAAA,MAAhCA,IAAgC,uEAAX,EAAW;;AACtD,MAAIC,IAAI,iBAAUD,IAAV,CAAR;AACA,MAAIE,IAAID,EAAEE,UAAV;AACA,yBAAqBD,CAArB,EAAwBD,CAAxB;AACA;AACA;AACAA,IAAEG,aAAF,GAAkB,wBAAgBH,CAAhB,EAAmBC,EAAEG,eAArB,EAAsC,UAAtC,CAAlB;AACA,wBAAiBJ,CAAjB;AACA,OAAK,IAAIK,IAAT,IAAiBC,UAAjB;AAA6BN,MAAEM,UAAF,CAAaD,IAAb,IAAqBC,WAAWD,IAAX,CAArB;AAA7B,GACAL,EAAEO,UAAF,GAAgB,kCAAqBP,CAArB,EAAwBA,EAAEG,aAA1B,EAAyCH,EAAEG,aAA3C,CAAhB;AACA,SAAOH,CAAP;AACD,C;;AAnBD;;AACA;;AACA;;;;AAEA;;IAAYM,U;;AACZ;;AACA","file":"construct_realm.js","sourcesContent":["/**\n * Copyright (c) 2017-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\n\nimport { Realm } from \"./realm.js\";\nimport { initialize as initializeIntrinsics } from \"./intrinsics/index.js\";\nimport initializeGlobal from \"./intrinsics/ecma262/global.js\";\nimport type { RealmOptions } from \"./types.js\";\nimport * as evaluators from \"./evaluators/index.js\";\nimport { NewGlobalEnvironment } from \"./methods/index.js\";\nimport { ObjectValue } from \"./values/index.js\";\n\nexport default function(opts: RealmOptions = {}): Realm {\n  let r = new Realm(opts);\n  let i = r.intrinsics;\n  initializeIntrinsics(i, r);\n  // TODO: Find a way to let different environments initialize their own global\n  // object for special magic host objects such as the window object in the DOM.\n  r.$GlobalObject = new ObjectValue(r, i.ObjectPrototype, \"::global\");\n  initializeGlobal(r);\n  for (let name in evaluators) r.evaluators[name] = evaluators[name];\n  r.$GlobalEnv =  NewGlobalEnvironment(r, r.$GlobalObject, r.$GlobalObject);\n  return r;\n}\n"]}